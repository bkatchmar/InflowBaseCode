{% load staticfiles %}
<!doctype html>
<html lang="en-US">
<head>
	<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:100,300,400,700" />
	<link rel="stylesheet" href="{% static 'css/base.css' %}?" />
	<title>Inflow Demo - View My Projects</title>
</head>
<body>
	<header>
		<div class="container">
			<div class="company">InFlow</div>
			<nav>
				<ul>
					<li>
						<a href="{% url 'htmldemos:demo_create_contract' %}">Projects</a>
					</li>
					<li>
						<a href="#">Transactions</a>
					</li>
					<li>
						<a href="#">Profile</a>
					</li>
					<li>
						<a href="#">FAQs</a>
					</li>
					<li>
						<a href="#">Log Out</a>
					</li>
				</ul>
			</nav>
		</div>
	</header>
	<main>
		<div class="header">Drag and upload your files</div>
		<form method="post" enctype="multipart/form-data" action="{% url 'htmldemos:demo_preview_milestone' %}" class="dropzone" id="inflow-dropzone">
			{% csrf_token %}
		</form>
		<button id="dropzone-uploader">Upload all of your files</button>
	</main>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://s3.us-east-2.amazonaws.com/inflowcssjs/dropzone.js"></script>
	<script>
		Dropzone.options.inflowDropzone = {
			paramName: "freelancer-deliverables", // The name that will be used to transfer the file
			clickable: true,
			addRemoveLinks: true,
			autoProcessQueue : false,
			accept: function(file, done) {
				done();
			},
			init : function() {
				var submitButton = document.querySelector("#dropzone-uploader");
                myDropzone = this;

                submitButton.addEventListener("click", function() {
                    myDropzone.processQueue();
                });
			}
		};
		Dropzone.prototype.defaultOptions.dictDefaultMessage = "Drag Your Files Here To Upload";
		Dropzone.prototype.defaultOptions.dictFallbackText = "You are using a much older browser, using a standard HTML file input";
	</script>
	<script>
		jQuery(document).ready(function() {
			jQuery("button#dropzone-uploader").click(function() {
				jQuery("form#inflow-dropzone").submit();
			});
		});
	</script>
</body>